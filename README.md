# Popechati

### Сайт проекта для печати на чем угодно (вещи, посуда, сумки и т.д.)

- Проект разрабатываемый на Laravel + Vue3 + Tailwindcss + Vite + Inertiajs
- Для организации компонентов в проекте используется Atomic Design

## Полезные ресурсы

- [Vue 3 Documentation](https://vuejs.org/)
- [Laravel Documentation](https://laravel.com/docs)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Atomic Design Methodology](https://bradfrost.com/blog/post/atomic-web-design/)

## Рекомендации по улучшению проекта

### 1. Типизация и качество кода

- Внедрить строгую типизацию TypeScript для всех компонентов
- Настроить ESLint + Prettier для единообразия кода
- Добавить pre-commit хуки через Husky
- Настроить Stylelint для проверки Tailwind CSS классов

### 2. Документация

- Создать Storybook для интерактивной документации компонентов
- Добавить JSDoc/TSDoc комментарии для всех компонентов
- Обновить README с актуальной информацией о структуре проекта
- Документировать API endpoints и бизнес-логику

### 3. Тестирование

- Настроить Vitest для unit-тестов компонентов
- Добавить Cypress для E2E тестирования
- Настроить сбор покрытия тестами
- Автоматизировать запуск тестов в CI/CD

### 4. Оптимизация производительности

- Внедрить lazy loading для страниц и крупных компонентов
- Оптимизировать сборку через Vite
- Настроить кэширование статики
- Использовать SVG-спрайты для иконок

### 5. Управление состоянием

- Внедрить Pinia для централизованного управления состоянием
- Создать composable-функции для переиспользуемой логики
- Типизировать store и actions

### 6. Доступность (a11y)

- Добавить ARIA-атрибуты
- Проверить контрастность цветов
- Обеспечить навигацию с клавиатуры
- Добавить skip-links для навигации

### 7. Мониторинг и отладка

- Интегрировать Sentry для отслеживания ошибок
- Настроить Laravel Telescope для мониторинга бэкенда
- Добавить логирование важных действий
- Настроить метрики производительности

### 8. Безопасность

- Настроить CSP (Content Security Policy)
- Добавить rate limiting для API
- Внедрить CSRF-защиту
- Настроить безопасные заголовки

### 9. CI/CD

- Настроить автоматическую сборку и деплой
- Добавить проверку типов в pipeline
- Настроить автоматическое тегирование релизов
- Добавить автоматическое обновление зависимостей

### 10. Дополнительные улучшения

- Внедрить i18n для мультиязычности
- Добавить PWA функционал
- Настроить SEO-оптимизацию
- Внедрить систему аналитики

## Следующие шаги

1. Создать issue в репозитории для каждого пункта улучшений
2. Приоритизировать задачи по важности и сложности
3. Разбить крупные задачи на подзадачи
4. Начать с базовых улучшений (типизация, линтеры, тесты)
5. Постепенно внедрять остальные улучшения

## Справочная информация

### Atomic Design: Принципы организации компонентов

#### Введение

В этом проекте используется методология Atomic Design для построения UI из переиспользуемых компонентов. Это позволяет поддерживать порядок, масштабируемость и удобство сопровождения кода.

#### Уровни компонентов

1. **Атомы (atoms)**

    - Неделимые базовые элементы интерфейса: кнопки, иконки, поля ввода, заголовки, текстовые элементы и т.д.
    - Не зависят от других компонентов.
    - Примеры: `AButton.vue`, `AInput.vue`, `AccordionToggleIcon.vue`.

2. **Молекулы (molecules)**

    - Простые составные компоненты, состоящие из атомов.
    - Могут содержать логику взаимодействия между атомами.
    - Примеры: `MapButtons.vue`, `AccordionQuestion.vue`, `AccordionAnswer.vue`.

3. **Организмы (organisms)**

    - Сложные составные компоненты, состоящие из атомов и молекул.
    - Формируют значимые части интерфейса: секции, формы, карточки, хедеры, футеры.
    - Примеры: `FaqAccordion.vue`, `YandexMap.vue`, `ContactDetails.vue`.

4. **Шаблоны (templates)**
    - Макеты страниц, собирающие организмы, молекулы и атомы в единую структуру.
    - Не содержат бизнес-логики, только структуру.
    - Примеры: `ContactInfo.vue`, `Home.vue`.

#### Структура каталогов

```
Components/
├── atoms/
│   ├── AccordionHeader.vue
│   ├── AccordionToggleIcon.vue
│   └── ...
├── molecules/
│   ├── MapButtons.vue
│   ├── AccordionQuestion.vue
│   ├── AccordionAnswer.vue
│   ├── AccordionItem.vue
│   └── ...
├── organisms/
│   ├── FaqAccordion.vue
│   ├── YandexMap.vue
│   ├── ContactDetails.vue
│   └── ...
└── templates/
    ├── ContactInfo.vue
    └── ...
```

#### Соглашения

- **Импорт компонентов**: Каждый уровень может импортировать только компоненты своего уровня и ниже (например, молекулы могут импортировать атомы, но не организмы).
- **Именование**: Используйте осмысленные имена, отражающие назначение компонента. Можно использовать префиксы `A`, `M`, `O`, `T` для атомов, молекул, организмов и шаблонов соответственно.
- **Документирование**: Для каждого компонента рекомендуется указывать описание, props и события в JSDoc-комментариях.

#### Пример иерархии для FAQ

```
FaqAccordion (organism)
├── AccordionHeader (atom)
└── AccordionItem (molecule)
    ├── AccordionQuestion (molecule)
    │   └── AccordionToggleIcon (atom)
    └── AccordionAnswer (molecule)
```

#### Рекомендации

- Разделяйте компоненты по функциональным папкам внутри каждого уровня, если их становится много.
- Используйте индексные файлы для удобного импорта.
- Поддерживайте единый стиль кода и следите за зависимостями между уровнями.

---

**Atomic Design** помогает строить масштабируемые и поддерживаемые интерфейсы, облегчает командную работу и ускоряет разработку новых фич.

Структурирование компонентов по методологии Atomic Design

1. Организация файловой структуры
   Предлагаю следующую структуру каталогов:

```text
resources/js/Components/
├── atoms/           # Базовые неделимые компоненты
│   ├── buttons/     # Кнопки
│   ├── icons/       # Иконки
│   ├── inputs/      # Поля ввода
│   ├── typography/  # Текстовые элементы
│   └── ...
├── molecules/       # Простые составные компоненты
│   ├── forms/       # Элементы форм
│   ├── navigation/  # Элементы навигации
│   ├── cards/       # Карточки
│   ├── accordion/   # Аккордеоны
│   └── ...
├── organisms/       # Сложные составные компоненты
│   ├── headers/     # Шапки
│   ├── footers/     # Подвалы
│   ├── sections/    # Секции страниц
│   └── ...
└── templates/       # Шаблоны страниц
    ├── home/        # Компоненты для главной страницы
    ├── catalog/     # Компоненты для каталога
    └── ...
```

2. Соглашения об именовании
   Для повышения понятности и поддержания порядка предлагаю следующие соглашения:
   Префиксы по типу компонента:
   Атомы: A (например, AButton.vue, AInput.vue)
   Молекулы: M (например, MSearchForm.vue, MNavItem.vue)
   Организмы: O (например, OHeader.vue, OFooter.vue)
   Шаблоны: T (например, TContactPage.vue)
   Группировка по функциональности:
   Для атомов: AButton, AButtonPrimary, AButtonSecondary
   Для молекул: MFormField, MFormSelect, MFormCheckbox
3. Документирование компонентов
   Для каждого компонента рекомендую создать документацию:

```vue
<script setup lang="ts">
/**
 * @component AButton
 * @description Базовая кнопка с возможностью настройки стилей
 * @props {string} variant - Вариант кнопки (primary, secondary, outline)
 * @props {string} size - Размер кнопки (sm, md, lg)
 * @emits {click} - Событие клика по кнопке
 */
defineProps<{
    variant: "primary" | "secondary" | "outline";
    size: "sm" | "md" | "lg";
}>();

defineEmits<{
    (e: "click", event: MouseEvent): void;
}>();
</script>
```

4. Создание индексных файлов
   Для упрощения импорта компонентов можно создать индексные файлы:

```typescript
// resources/js/Components/atoms/index.ts
export { default as AButton } from "./buttons/AButton.vue";
export { default as AInput } from "./inputs/AInput.vue";
// ...

// resources/js/Components/molecules/index.ts
export { default as MFormField } from "./forms/MFormField.vue";
export { default as MNavItem } from "./navigation/MNavItem.vue";
// ...
```

5. Создание каталога компонентов (Design System)
   Для наглядного представления всех компонентов и их взаимосвязей рекомендую создать каталог компонентов:

```vue
<!-- resources/js/Pages/DesignSystem.vue -->
<template>
    <div class="design-system">
        <h1>Дизайн-система</h1>

        <section>
            <h2>Атомы</h2>
            <div class="component-grid">
                <div class="component-item">
                    <AButton variant="primary" size="md">Кнопка</AButton>
                    <div class="component-name">AButton (primary)</div>
                </div>
                <!-- Другие атомы -->
            </div>
        </section>

        <!-- Секции для молекул, организмов и т.д. -->
    </div>
</template>
```

6. Взаимосвязи между уровнями
   Для поддержания четкой иерархии рекомендую следовать таким правилам:
   Атомы не должны зависеть от других компонентов
   Молекулы могут импортировать только атомы
   Организмы могут импортировать атомы и молекулы
   Шаблоны могут импортировать компоненты любого уровня
7. Практическое применение для нашего проекта
   Давайте реорганизуем наши текущие компоненты аккордеона:6. Взаимосвязи между уровнями
   Для поддержания четкой иерархии рекомендую следовать таким правилам:
   Атомы не должны зависеть от других компонентов
   Молекулы могут импортировать только атомы
   Организмы могут импортировать атомы и молекулы
   Шаблоны могут импортировать компоненты любого уровня
8. Практическое применение для нашего проекта
   Давайте реорганизуем наши текущие компоненты аккордеона:

```text
resources/js/Components/
├── atoms/
│   ├── accordion/
│   │   ├── AAccordionHeader.vue (бывший AccordionHeader)
│   │   └── AAccordionToggleIcon.vue (бывший AccordionToggleIcon)
├── molecules/
│   ├── accordion/
│   │   ├── MAccordionQuestion.vue (бывший AccordionQuestion)
│   │   ├── MAccordionAnswer.vue (бывший AccordionAnswer)
│   │   └── MAccordionItem.vue (бывший AccordionItem)
└── organisms/
    ├── accordion/
    │   └── OFaqAccordion.vue (бывший FaqAccordion)
```

8. Внедрение стайлгайда и линтера
   Для поддержания согласованности кода рекомендую настроить линтер с правилами для Atomic Design:

```js
// .eslintrc.js
module.exports = {
    // ...
    rules: {
        // Правило, запрещающее молекулам импортировать организмы и шаблоны
        "no-restricted-imports": [
            "error",
            {
                patterns: [
                    {
                        group: ["**/organisms/**", "**/templates/**"],
                        message:
                            "Молекулы не могут импортировать организмы или шаблоны.",
                    },
                ],
            },
        ],
        // Другие правила...
    },
};
```

9. Визуализация связей между компонентами
   Для лучшего понимания зависимостей между компонентами можно создать диаграмму:

```text
OFaqAccordion
├── AAccordionHeader
└── MAccordionItem
    ├── MAccordionQuestion
    │   └── AAccordionToggleIcon
    └── MAccordionAnswer
```

10. Документация по использованию
    Создайте README.md файл с описанием принципов организации компонентов:

```markdown
# Atomic Design в нашем проекте

## Уровни компонентов

1. **Атомы** - базовые компоненты (кнопки, иконки, поля ввода)
2. **Молекулы** - простые составные компоненты (формы, навигационные элементы)
3. **Организмы** - сложные составные компоненты (шапка, подвал, секции)
4. **Шаблоны** - макеты страниц

## Правила именования и структурирования

...
```

Такой подход к организации компонентов по методологии Atomic Design обеспечит:

- Ясную и понятную структуру проекта
- Легкую навигацию по компонентам
- Четкое понимание взаимосвязей между компонентами
- Повышенную переиспользуемость компонентов
- Упрощенное поддержание и расширение системы компонентов
  Это особенно важно по мере роста проекта, когда количество компонентов может достигать сотен.
